<div class="inbox-message pointer"
     ng-class="{'inbox-message--importmant': vm.message.isImportmant, 'inbox-message--new': vm.message.active}"
     ng-mouseover="vm.message.hover = true" ng-mouseleave="vm.message.hover = false"
     inbox-message-hover
     ng-click="vm.goToUrl()">
    <div>
        <div class="inbox-message__importance pointer"
             ng-class="{'opacity--0': !vm.message.hover && !vm.message.isImportmant}"
             ng-click="vm.message.isImportmant = !vm.message.isImportmant; $event.stopPropagation();">
            <span class="icon-important"></span>
        </div>
    </div>
    <div>
        <div class="inbox-message__checked">
            <div class="checkbox-y checkbox-y--size15" ng-click="$event.stopPropagation();">
                <label class="checkbox-y__label">
                    <input class="checkbox-y__input"
                           type="checkbox"
                           data-checklist-model="vm.messages.checked" data-checklist-value="vm.message">
                    <div class="checkbox-y__body">
                        <span class="checkbox-y__icon icon-mark"></span>
                    </div>
                </label>
            </div>
        </div>
    </div>
    <div>
        <div class="inbox-message__avatar">
            <!--<div class="avatar avatar&#45;&#45;size30">-->
            <!--<img class="avatar__image" src="/images/avatar.png">-->
            <!--</div>-->

            <avatar-name class="avatar avatar--settings avatar--size30 avatar--second-style mrg__auto"
                         name="vm.message.from" email="vm.message.fromAddress"
                         ng-if="vm.$state.params.mbox !== 'Sent' && vm.$state.params.mbox !== 'Drafts'"></avatar-name>

            <avatar-name class="avatar avatar--settings avatar--size30 avatar--second-style mrg__auto"
                         name="vm.message.to[0].name" email="vm.message.to[0].address"
                         ng-if="vm.$state.params.mbox === 'Sent' || vm.$state.params.mbox === 'Drafts'"></avatar-name>

        </div>
    </div>
    <div>
        <div class="inbox-message__name" ng-if="vm.$state.params.mbox !== 'Sent'">
            {{ vm.message.from }}
        </div>
        <div class="inbox-message__name"
             ng-if="vm.$state.params.mbox === 'Sent' || vm.$state.params.mbox === 'Drafts'">
            {{ vm.message.to[0].address }}
        </div>
    </div>
    <div>
        <!--ng-click="vm.message.active = !vm.message.active; $event.stopPropagation();">-->
        <div class="inbox-message__round">
            <div class="inbox-message__round pointer"
                 ng-click="vm.setSeen(); $event.stopPropagation();">
                <div class="round"
                     ng-class="{
                        'round&#45;&#45;border': vm.message.hover,
                        'round&#45;&#45;yellow': vm.message.active
                     }"></div>
            </div>
        </div>
    </div>
    <div>
        <div class="inbox-message__folder">
            <span class="icon-incoming"></span>
        </div>
    </div>
    <div>
        <div class="inbox-message__labels">

            <div class="label-ydx label-ydx--green inbox-message__label">
                Метка 1
            </div>

            <div class="label-ydx label-ydx--red inbox-message__label">
                Метка 2
            </div>

            <div class="label-ydx label-ydx--blue inbox-message__label">
                Метка 3
            </div>

        </div>
    </div>
    <div class="inbox-message__text">
        <div class="inbox-message__subject">
            {{ vm.message.Subject }}
        </div>
        <div class="inbox-message__message"
             ng-bind-html="vm.message.body"></div>
    </div>
    <div>
        <div class="inbox-message__data">
            {{ vm.getDate(vm.message.date.date) }}
        </div>
    </div>
</div>
