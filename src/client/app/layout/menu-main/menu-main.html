<div class="menu-main-layout font-sizer--bigger-15">
    <div class="menu-main-layout__item">
        <div class="menu-main-layout__buttons">
            <button class="btn btn--red btn--size_l mrg__right5 flex--inline align-items--cn"
                    ng-click="vm.openComposePopup({new: true})">
                <span class="icon-write">
                </span>
                <span class="menu-main-layout__btn-text mrg__left10">{{ 'WRITE' | translate }}</span>
            </button>
            <button class="menu-main-layout__buttons--btn-color btn btn--size_l btn--yellow mrg__right5 flex--inline align-items--cn padding"
                    ng-click="vm.syncMail()">
                <span class="icon-spinner"></span>
            </button>
            <button class="menu-main-layout__buttons--btn-color btn btn--size_l btn--yellow flex--inline align-items--cn padding"
                    ui-sref="contacts.main">
                <span class="icon-contacts"></span>
            </button>
        </div>

        <ul class="menu-main mrg__top20">
            <li class="menu-main__item" ng-repeat="folder in vm.folders.items" ng-hide="folder.name == 'Outbox' && !folder.messagesCount">
                <a class="menu-main__link"
                   ng-click="vm.goToUrl(folder)"
                   ui-sref-active="menu-main__link--active"
                   ng-class="{'menu-main__link--gray': !folder.messagesCount,
                                'menu-main__link--clear-btn-active': (folder.name === 'Junk' || folder.name === 'Trash') && folder.messagesCount,
                                'menu-main__link--active': vm.$state.params.mbox === folder.name
                             }"
                   ng-if="!folder.isSub && folder.name !== 'Templates'">
                    <!--icon-select-arrow-->
                    <span class="is-nesting"
                          ng-class="{'is-nesting--open': !folder.isOpen}"
                          ng-if="folder.name === 'INBOX' || folder.name === 'Drafts'"
                          ng-click="folder.isOpen = !folder.isOpen; $event.stopPropagation();"></span>

                    <span class="{{ folder.icon }} menu-main__icon"></span>
                    <span class="menu-main__link-caption">{{ folder.name | translate }}</span>

                    <div class="menu-main__additional-option">
                        <button class="btn--clear-brush btn--not-style icon-brush font__size12"
                                type="button" ng-click="vm.clearFolder($event, folder);"></button>

                        <div class="menu-main__counter" ng-if="folder.unseen && folder.name === 'INBOX'">
                            <span class="round round--yellow"></span>
                            <strong class="color--white">{{ folder.unseen }}</strong>
                        </div>
                    </div>
                </a>

                <ul class="menu-main__sub menu-main" ng-if="folder.isOpen && folder.name !== 'Drafts'">
                    <li class="menu-main__item"
                        ng-repeat="folder in vm.folders.items"
                        ng-if="folder.isSub && folder.name !== 'Templates'">
                        <a class="menu-main__link"
                           ui-sref="mail.inbox({mbox: folder.name, filter: undefined, tag_id: undefined})"
                           ui-sref-active="menu-main__link--active"
                           ng-class="{'menu-main__link--gray': !folder.messagesCount}">
                            <span class="menu-main__link-caption" ng-if="folder.name !== 'Archive'">{{ folder.caption }}</span>
                            <span class="menu-main__link-caption" ng-if="folder.name === 'Archive'">{{ folder.name | translate }}</span>
                            <!--<span class="icon-select-arrow is-nesting is-nesting&#45;&#45;open"></span>-->

                            <div class="menu-main__additional-option">
                                <button class="btn--clear-brush btn--not-style icon-brush font__size12"
                                        type="button"></button>

                                <div class="menu-main__counter" ng-if="folder.unseen">
                                    <span class="round round--yellow"></span>
                                    <strong class="color--white">{{ folder.unseen }}</strong>
                                </div>
                            </div>
                        </a>
                    </li>
                </ul>

                <ul class="menu-main__sub menu-main" ng-if="folder.isOpen && folder.name === 'Drafts'">
                    <li class="menu-main__item"
                        ng-repeat="folder in vm.folders.items"
                        ng-if="folder.isSub && folder.name === 'Templates'">
                        <a class="menu-main__link"
                           ui-sref="mail.inbox({mbox: folder.name, filter: undefined, tag_id: undefined})"
                           ui-sref-active="menu-main__link--active"
                           ng-class="{'menu-main__link--gray': !folder.messagesCount}">
                            <span class="menu-main__link-caption" ng-if="folder.name !== 'Templates'">{{ folder.caption }}</span>
                            <span class="menu-main__link-caption" ng-if="folder.name === 'Templates'">{{ folder.name | translate }}</span>
                            <!--<span class="icon-select-arrow is-nesting is-nesting&#45;&#45;open"></span>-->
                        </a>
                    </li>
                </ul>
            </li>
        </ul>

        <div class="menu-main-layout__item-content">

            <div class="folders-setup">
                <div class="folders-setup__row">
                    <a class="folders-setup__link folders-setup__create" href
                       ng-click="vm.openFolderCreatePopup()">
                        {{ 'CREATE_FOLDER' | translate }}
                    </a>
                    <a class="folders-setup__link folders-setup__settings" ui-sref="settings.folders">
                        <!--{{ 'TUNE' | translate }}-->
                        <span class="icon-settings font__size15"></span>
                    </a>
                </div>
                <hr class="hr folders-setup__hr">
            </div>

        </div>

    </div>

    <div class="menu-main-layout__item mrg__top20">

        <div class="menu-main-layout__item-content padding--left10 padding--right10">
            <ul class="menu-main">
                <li class="menu-main__item">
                    <button class="btn-y btn-y--active pointer font__size15" type="button"
                            ui-sref="mail.inbox({mbox: undefined, filter: 'flagged', tag_id: undefined})"
                            ui-sref-active="btn-y--active">
                        <span class="icon-icon-flag-light menu-main__icon"></span>
                        <span class="menu-main__link-caption">{{ 'IMPORTANT' | translate }}</span>
                    </button>
                </li>
                <li class="menu-main__item">
                    <button class="btn-y pointer font__size15" type="button"
                            ui-sref="mail.inbox({mbox: undefined, filter: 'unseen', tag_id: undefined})"
                            ui-sref-active="btn-y--active">
                        <span class="icon-icon-mail-light menu-main__icon"></span>
                        <span class="menu-main__link-caption">{{ 'UNREAD' | translate }}</span>
                    </button>
                </li>
                <li class="menu-main__item">
                    <button class="btn-y pointer font__size15" type="button"
                            ui-sref="mail.inbox({mbox: undefined, filter: 'attach', tag_id: undefined})"
                            ui-sref-active="btn-y--active">
                        <span class="icon-icon-screpka menu-main__icon"></span>
                        <span class="menu-main__link-caption">{{ 'WITH_ATTACHMENT' | translate }}</span>
                    </button>
                </li>
            </ul>

        </div>

    </div>

    <div class="menu-main-layout__item mrg__top20">
        <div class="menu-main-layout__item-content padding--left10 padding--right10">
            <ul class="menu-main menu-main--tags">
                <li class="menu-main__item"
                    ng-repeat="tag in vm.tags.items"
                    dnd-draggable="tag">

                    <button class="menu-main__tag btn-y pointer" type="button"
                            ui-sref="mail.inbox({mbox: undefined, filter: undefined, tag_id: tag.id})"
                            ui-sref-active="menu-main__link--active">
                        <div class="square square--green btn-y__icon" style="background: {{ tag.bgcolor }}"></div>
                        {{ tag.tag_name }}
                    </button>

                    <button class="menu-main__tag-minimize btn-y pointer btn--act--y-shw" type="button"
                            ui-sref="mail.inbox({mbox: undefined, filter: undefined, tag_id: tag.id})"
                            ui-sref-active="menu-main__link--active">
                        <div class="square square--green btn-y__icon" style="background: {{ tag.bgcolor }}">
                            <span class="square__text">{{ tag.tag_name }}</span>
                        </div>
                    </button>
                </li>
            </ul>

        </div>
    </div>

    <div class="menu-main-layout__item menu-main-layout__settings-tags ">
        <div class="menu-main-layout__item-content">
            <div class="folders-setup">
                <div class="folders-setup__row">
                    <a class="folders-setup__link" href ng-click="vm.openTagCreatePopup()">
                        {{ 'CREATE_TAG' | translate }}
                    </a>
                    <a class="folders-setup__link" ui-sref="settings.tags">
                        {{ 'LIST_TAGS' | translate }}...
                    </a>
                </div>
                <hr class="hr folders-setup__hr">
            </div>
        </div>
    </div>

    <div class="menu-main-layout__item mrg__top20">
        <div class="menu-main-layout__item-content ">
            <button class="menu-main-layout__other-mails btn-y btn-y--size26 btn-y--border btn-y--image-icon btn-y--white pointer"
                    type="button"
                    ui-sref="settings.accounts">
                <span class="btn-y__name">
                     {{ 'ADD_OTHER_MAIL' | translate }}
                </span>
                <img class="btn-y__icon" src="/images/gmail.png">
                <img class="btn-y__icon" src="/images/yahoo-mail.png">
            </button>

            <a class="menu-main-layout__other-mails-minimize" ui-sref="settings.accounts">
                <span class="icon-other-mails color--blue"></span>
            </a>
        </div>
    </div>

    <!--<div class="menu-main-layout__item mrg__top20">-->
        <!--<div class="menu-main-layout__item-content">-->
            <!--<a class="menu-main-layout__button-tarif" ui-sref="storage">-->
                <!--<img class="img-responsive" src="/images/tarif-button.png">-->
            <!--</a>-->
            <!--<a class="menu-main-layout__button-tarif-minimize" ui-sref="storage">-->
                <!--<span class="icon-mail-space color&#45;&#45;green"></span>-->
            <!--</a>-->
        <!--</div>-->
    <!--</div>-->

    <div class="menu-main-layout__item mrg__top20">
        <div class="menu-main-layout__item-content">
             <div class="space-progress">
                 <progress class="space-progress__bar"
                           value="{{ vm.user.profile.usedQuota }}"
                           max="{{  vm.user.profile.freeQuota }}"
                           ng-click="vm.openStoragePopup()"></progress>

                 <div class="space-progress__content mrg__top5">
                     <span class="menu-main-layout__button-tarif space-progress__used-space">
                             <span class="menu-main-layout__button-tarif-dop">
                                 {{ vm.user.profile.usedQuota }} MB {{ 'OF_2' | translate }} </span>
                             {{ vm.user.profile.freeQuota }} MB
                     </span>
                     <button class="menu-main-layout__button-tarif btn btn--size_xs btn--yellow padding--left8 padding--right8" type="button" ng-click="vm.openStoragePopup()">
                         {{ 'STORAGE_UP_SPACE' | translate }}
                     </button>
                     <!--<a class="menu-main-layout__button-tarif-minimize" ui-sref="storage">-->
                         <!--<span class="icon-mail-space color&#45;&#45;green"></span>-->
                     <!--</a>-->
                     <a class="menu-main-layout__button-tarif-minimize" ng-click="vm.openStoragePopup()">
                         <span class="icon-mail-space color--green"></span>
                         <progress class="space-progress__bar"
                                   value="{{ vm.user.profile.usedQuota }}"
                                   max="{{  vm.user.profile.freeQuota }}"></progress>
                     </a>
                 </div>

             </div>
        </div>
    </div>


    <!--<test-draggable></test-draggable>-->

</div>